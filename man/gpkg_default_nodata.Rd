% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/gpkg-util.R
\name{gpkg_default_nodata}
\alias{gpkg_default_nodata}
\title{Get Default NoData Value for GeoPackage Raster Datatypes}
\usage{
gpkg_default_nodata(datatype)
}
\arguments{
\item{datatype}{character. A raster datatype code in terra format.
Supported types are:
\itemize{
\item Signed integers: "INT1S", "INT2S", "INT4S", "INT8S"
\item Unsigned integers: "INT1U", "INT2U", "INT4U", "INT8U"
\item Floats: "FLT4S" (single precision), "FLT8S" (double precision)
}}
}
\value{
numeric. The default NoData value for the given datatype, or
\code{NA_real_} if no default is available or the datatype is not recognized.
}
\description{
Returns a default NoData value for a given raster datatype, following GDAL
and terra conventions, and avoiding \code{NaN} values passed to GDAL GeoPackage
driver.
}
\details{
While \code{NaN} is technically a valid value for grids stored in a
geopackage, it is generally prefered to use a numeric value, as \code{NaN} is not
supported by SQLite 3 and is stored in the metadata column as SQL \code{NULL}.
These defaults are used by \code{\link[=gpkg_write]{gpkg_write()}} when \code{auto_nodata = TRUE}.

For signed integer types, the minimum representable value (e.g., INT32_MIN)
is returned, as it is unlikely to occur in valid data. For unsigned integer
types, the maximum representable value is returned (e.g., UINT16_MAX), with
the exception of INT1U (byte) which returns 255 (following terra convention).
For float types, the negative extreme value is returned, as GeoPackage
metadata cannot represent NaN.

\tabular{ll}{
\strong{Datatype} \tab \strong{Default NoData} \cr
INT1S \tab -128 \cr
INT2S \tab -32768 \cr
INT4S \tab -2147483648 \cr
INT8S \tab -9223372036854775808 \cr
INT1U \tab 255 \cr
INT2U \tab 65534 \cr
INT4U \tab 4294967295 \cr
INT8U \tab 18446744073709549568 \cr
FLT4S \tab -3.40282346638528860e+38 \cr
FLT8S \tab -1.79769313486231571e+308 \cr
}

Note: The INT8U default (\code{18446744073709549568}) is \code{UINT64_MAX - 1101} to
account for floating-point precision loss when converting to double,
following terra's convention. R does not have a native unsigned 64-bit
integer type.

Note: at this time (GDAL 3.12) only Byte (INT1U), Int16 (INT2S), UInt16
(INT2U) or Float32 (INT4S) datatypes are supported in the GPKG raster driver
}
\examples{
gpkg_default_nodata("FLT4S")
gpkg_default_nodata("INT2S")
gpkg_default_nodata("INT2U") 

}
\seealso{
\code{\link[=gpkg_write]{gpkg_write()}} for using these defaults when writing rasters to
GeoPackage
}
