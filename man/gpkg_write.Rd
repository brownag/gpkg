% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/gpkg-io.R
\name{gpkg_write}
\alias{gpkg_write}
\title{Write data to a GeoPackage}
\usage{
gpkg_write(
  x,
  y = NULL,
  table_name = NULL,
  datatype = "FLT4S",
  append = FALSE,
  overwrite = FALSE,
  NoData = NULL,
  gdal_options = NULL,
  auto_nodata = TRUE,
  destfile = NULL,
  ...
)
}
\arguments{
\item{x}{Vector of source file path(s), or a list containing one or more
SpatRaster, SpatRasterCollection, SpatVectorProxy, or data.frame objects.}

\item{y}{\emph{character}, \emph{geopackage}, or \emph{DBIConnection}.}

\item{table_name}{\emph{character}. Default \code{NULL} name is derived from source file.
Required if \code{x} is a \emph{data.frame}.}

\item{datatype}{\emph{character}. Data type. Defaults to \code{"FLT4S"} for GeoTIFF files, \code{"INT2U"}
otherwise. See documentation for \code{terra::writeRaster()}.}

\item{append}{\emph{logical}. Append to existing data source? Default: \code{FALSE}.
When \code{TRUE}, new data are added to the existing table(s) if they exist.
For raster data, this adds a new subdataset (layer) to the GeoPackage
(via \code{APPEND_SUBDATASET=YES} creation option). For attribute tables,
this appends rows to the existing table. For vector data, this
maps to the \code{insert} argument of \code{terra::writeVector()}.
Setting \code{append=TRUE} overrides \code{overwrite=TRUE}.}

\item{overwrite}{\emph{logical}. Overwrite existing data source? Default \code{FALSE}.
When \code{TRUE}, existing table(s) with the same name are dropped and recreated.
Note that this only affects the specific tables being written; it does not
delete other existing tables in the GeoPackage file. To completely
overwrite an entire GeoPackage file, delete it first using \code{unlink()}.}

\item{NoData}{\emph{numeric}. Value to use as GDAL \code{NoData} Value}

\item{gdal_options}{\emph{character}. Additional \code{gdal_options}, passed to
\code{terra::writeRaster()}}

\item{auto_nodata}{logical. If TRUE (default), automatically select a datatype-appropriate
default NoData value when \code{NoData = NULL}, determined by \code{\link[=gpkg_default_nodata]{gpkg_default_nodata()}}.
Set to FALSE to use terra's default behavior (NaN for floats), which may trigger GDAL
warnings.  Ignored if \code{NoData} is explicitly specified.}

\item{destfile}{\emph{character}. Path to output GeoPackage}

\item{...}{Additional arguments are passed as GeoPackage creation options.
See Details.}
}
\value{
Logical. \code{TRUE} on successful write of at least one grid.
}
\description{
Write data to a GeoPackage
}
\details{
\code{gpkg_write()} can write multiple layers of different types (raster,
vector, and attributes) in a single call when \code{x} is a list. If calling
\code{gpkg_write()} multiple times to build a GeoPackage, use \code{append=TRUE}
to add additional layers. To replace a specific table while preserving
others, use \code{overwrite=TRUE}. Note that \code{overwrite=TRUE} only drops the
specified \code{table_name} and does not affect other tables in the file.

Additional, non-default GeoPackage creation options can be specified
as arguments to this function. The full list of creation options can be
viewed
\href{https://gdal.org/en/stable/drivers/raster/gpkg.html#creation-options}{here}
or in the \code{gpkg_creation_options} dataset. The name of the argument is
\code{creation_option} and the value is selected from one of the elements of
\code{values} for that option.

If \code{x} contains source file paths, any comma-separated value (CSV) files
are treated as attribute data--even if they contain a geometry column.
GeoPackage source file paths are always treated as vector data sources, and
only one layer will be read from the source and written to the target. If
you need to read raster data from a GeoPackage first create a \code{SpatRaster}
from the layer of interest (see \code{gpkg_rast()}) before passing to
\code{gpkg_write()}. If you need to read multiple layers from any multi-layer
source read them individually into suitable objects. For a source
GeoPackage containing multiple layers you can use \code{gpkg_read()} (returns a
\emph{geopackage} object) or \code{gpkg_tables()} (returns a \emph{list} object).
}
\seealso{
\link{gpkg_creation_options} \code{\link[=gpkg_default_nodata]{gpkg_default_nodata()}}
}
\keyword{io}
